<!doctype html>
<html lang="en">

    <head>
        <meta charset="utf-8">

        <title>Stop being the Grunt - use Grunt.js</title>

        <meta name="description" content="A presentation telling what Grunt.js is and Why to use it">
        <meta name="author" content="Josh Bavari">

        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <link rel="stylesheet" href="css/reveal.min.css">
        <link rel="stylesheet" href="css/theme/night.css" id="theme">
        <link rel="stylesheet" href="css/editable.css">

        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="lib/css/zenburn.css">

        <link href="lib/css/d3.css" rel="stylesheet" type="text/css">

        <script src="lib/js/d3.v2.js"></script>
        <script src="lib/js/nv.d3.js"></script>
        <script src="lib/js/tooltip.js"></script>

        <script src="lib/js/cumulativeLineModel.js"></script>



        <!-- If the query includes 'print-pdf', use the PDF print sheet -->
        <script>
            document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
        </script>

        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
        <style type="text/css">
            /*.reveal .state-background  {
                background-image: url(https://s3.amazonaws.com/uploads.hipchat.com/41403/429435/YgVwok4JIb4sHUr/grunt-slide-idea.jpg);
                background-repeat: no-repeat;
                background-color: #262A2D;
                background-size: 100%;
            }*/
            ul.automate {
                float: left; 
                width: 40%; 
                list-style-type: none !important;
            }

            ul.automate:first {
                margin-left: 20%;
            }

            .grunt_orange {
                color: #e48632;
            }

            .reveal pre {
                font-size: 1.1em !important;
            }

            #edit_changes {
                color: #4C2CC0;
                margin: 5px;
                padding: 30px;
                font-size: 1.3em;
                border-radius: 15px;
                box-shadow: 2px 2px #e48632;
                outline: 0;
            }
        </style>
    </head>

    <body>

        <div class="reveal">

            <!-- Any section element inside of this container is displayed as a slide -->
            <div class="slides">
                <section data-background="https://s3.amazonaws.com/uploads.hipchat.com/41403/429435/0UHOP4UfbAaDxOC/grunt-blank.jpg" data-background-repeat="no-repeat" data-background-position="0 0">
                    <!-- <img src="http://gruntjs.com/img/grunt-logo.png" style="height: 200px; border: 0; background-color: transparent;" /> -->
                    <h3>Grunt.js</h3>
                    <h3>The Javascript Task Runner</h3>
                    <p>
                        <small><a href="http://jbavari.github.com">Josh Bavari</a> / <a href="http://twitter.com/jbavari">@jbavari</a></small>
                    </p>
                </section>

                <section>
                    <h2>Why use a task runner?</h2>
                    <h3>
                        In one word: Automation
                    </h3>

                    <p>
                        <span class="fragment">Stop being the grunt</span><span class="fragment">, use the <span class="grunt_orange">grunt</span>
                    </p>

                    <aside class="notes">
                        Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
                    </aside>
                </section>
                <section>
                    <h2>I typed 'grunt serve'</h2>
                    <p>
                        With that command, Grunt linted my files, 
                        minified CSS &amp; Javascript, ran unit tests, fired up an express 
                        server, and watches any changes to css files to automatically update
                        my browser.
                    </p>
                </section>
                <section>

                    <h2>It's not a 'new' thing</h2>
                    <h2 class="fragment">Its the new thing</h2>
                    <br>

                    <p>You've used some sort of task runner before. Think:</p>

                    <ul>
                        <li>Make</li>
                        <li>Rake</li>
                        <li>Ant / Maven</li>
                        <li>Quartz</li>
                    </ul>
                </section>

                <section>
                    <h2>What can you automate?</h2>

                    <p>
                        (Most) Anything a human can do, Grunt can do (better)
                    </p>

                    <br />

                    <ul class="automate">
                        <li>Minification</li>
                        <li>Compilation</li>
                        <li>Unit Testing</li>
                        <li>Linting</li>
                    </ul>
                    <ul class="automate">
                        <li>Sass or LESS</li>
                        <li>Preprocessing</li>
                        <li>Live-reloading</li>
                        <li>Image resizing</li>
                    </ul>
                    <br>
                    <h4>And more...</h4>
                </section>

                <section>
                    <section>
                        <h2>Anatomy of a Grunt project</h2>

                        <h3>Two main things needed</h3>

                        <ul>
                            <li>A package.json file to list dependencies</li>
                            <li>A Gruntfile to define the tasks</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Anatomy of a package.json file</h2>
                        <p>
                            This file is used by Node.js and list the project dependencies and their versions
                        </p>

                        <pre><code data-trim contenteditable>{
    "name": "AutomateMe",
    "version": "0.1.0",
    "devDependencies": {
        "grunt": "~0.4.2",
        "grunt-contrib-jshint": "~0.6.3",
        "grunt-contrib-nodeunit": "~0.2.0",
        "grunt-contrib-uglify": "~0.2.2"
    }
}
                        </code></pre>
                    </section>
                    <section>
                        <h2>Anatomy of a Gruntfile</h2>

                        <p>
                            A Javascript file that wraps a grunt function and configures a series of plugins. Any valid javascript can go here.
                        </p>
                    </section>
                    <section>

                        <h3>A Gruntfile has:</h3>

                        <ul>
                            <li>The wrapper function</li>
                            <li>Project and task configuration</li>
                            <li>Loading Grunt plugins and tasks</li>
                            <li>Custom tasks</li>
                            <li>Other Javascript as needed</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Gruntfile example</h2>
                        <pre><code data-trim contenteditable>module.exports = function(grunt) {

//Standard javascript - retrieve a command line parameter
//Say the user typed 'grunt --foo=bar'
var foo = grunt.option('bar') || 'fubar';

  grunt.initConfig({
    // Arbitrary non-task-specific properties.
    my_property: 'whatever',
    our_file_list: ['./js/*.js'],
    pkg: grunt.file.readJSON('package.json'),
    // jshint task configuration here - you can specify several targets per task 
    jshint: {
      all: {
        options: {
          smarttabs: false //specify options for just this target
        }, 
        files: '<%= our_file_list %>', //Special Grunt syntax to get a config variable
      },
      just_a_few: {
        files: ['./js/index.js', './js/nav.js']
      }
      // specify global options for all targets
      options: {
        smarttabs: true,
        eqnull: true,
        eqeqeq: false
      }
    }
  }
});

  // Load the plugin that provides the "jshint" task.
  grunt.loadNpmTasks('grunt-contrib-jshint');

  // Default task(s).
  grunt.registerTask('default', ['jshint']);

};
                        </code></pre>
                    </section>
                </section>

                <section>
                    <section>
                        <h2>Getting started is too easy</h2>

                        <ul>
                            <li>Install Grunt</li>
                            <li>Create Gruntfile.js</li>
                            <li>Create package.json</li>
                        </ul>
                    </section>
                    <section>
                        <h2>Installing Grunt</h2>

                        <p>
                            Grunt mainly runs from its command line interface in the working directory the Gruntfile
                        </p>

                        <pre><code data-trim>
                            npm install -g grunt-cli
                        </code></pre>
                    </section>
                    <section>
                        <h2>Working with existing Grunt project</h2>

                        <p>
                            If your working directory has a Gruntfile - just install project dependencies and view the defined tasks!
                        </p>

                        <pre><code data-trim>
                            npm install
grunt --help
                        </code></pre>
                    </section>

                    <section>
                        <h2>Preparing a new Grunt project</h2>

                        <p>Create your package.json file - contains all project depenencies</p>

                        <pre><code data-trim>npm init</code></pre>
                    </section>
                    <section>
                        <h2>Create your Gruntfile</h2>

                        <p>
                            Here I'd recommend taking the sample Gruntfile from their website, and start adding in tasks as you see fit
                        </p>
                    </section>

                </section>

                <!-- Example of nested vertical slides -->
                <section>
                    <section>
                        <h2>Adding Plugins is easy too</h2>

                        <p>Find the plugin you want to use, and just run npm install</p>

                        <pre><code>//We use the --save-dev flag to save this entry to our package.json file
npm install grunt-contrib-uglify --save-dev</code></pre>
                    </section>
                    <section>
                        <h2>Register the plugin in Gruntfile</h2>

                        <p>Now that we added a plugin via npm, we must include in Gruntfile<p>

                        <pre><code>
grunt.loadNpmTasks('grunt-contrib-watch');
                        </code></pre>
                    </section>
                </section>
                <section>
                    <h2>Lets get dirty in the mud</h2>

                    <p>The best thing about Grunt is the hundreds of plugins that are easy to configure and use. Lets dive in a few common tasks</p>
                </section>
                <section>
                    <section>
                        <h2>Code Minification with UglifyJS</h2>

                        <p>Install the plugin</p>
                        <pre><code>npm install grunt-contrib-uglify --save-dev</code></pre>
                    </section>
                    <section>

                        <h2>Configure the plugin &amp; load npm task</h2>

                        <pre><code data-trim contenteditable>//...snip previous config...
  uglify: {
    subset: {
      files: {
        'dest/output.min.js': ['src/input1.js', 'src/input2.js']
      }
    },
    all: {
      files: {
        'dest/all.min.js': ['']
      }
    }
  }
});

grunt.loadNpmTasks('grunt-contrib-uglify');
                        </code></pre>
                    </section>
                    <section>
                        <h2>Run the task!</h2>

                        <pre><code>grunt uglify</pre></code>
                        <p>Specify which uglify task target to run</p>
                        <pre><code>grunt uglify:subset
grunt uglify:all</pre></code>
                </section>
            </section>

            <section>
                <section>
                    <h2>Getting Sassy</h2>

                    <p>Just like we saw at Thunder Plains, we can use Sass with the sass ruby gem and the grunt sass plugin.</p>

                    <pre><code>gem install sass
npm install grunt-contrib-sass --save-dev</code></pre>
                </section>
                <section>
                    <h2>Put the sassy pants on</h2>
                    <pre><code data-trim contenteditable>sass: {
  dist: {
    files: {
      './src/stylesheets/styles.css': './src/stylesheets/styles.scss'
    }
  }
}
                    </pre></code>
                </section>
                <section>
                    <h2>Run it</h2>
                    <pre><code>grunt sass</code></pre>
                </section>
            </section>

            <section>
                <section>
                    <h2>Automation Events</h2>
                    <h2>on Code Modification</h2>

                    <p>
                        Lets watch our SASS / JS / CSS files and when they change, automatically compile or minify.
                    </p>
                </section>
                <section>
                    <h2>Grunt Watch Plugin</h2>
                    <p>
                        Using the Grunt Watch plugin, we can monitor file changes and execute tasks on file change events.
                    </p>

                    <pre><code>//Command Line to install plugin
npm install grunt-contrib-watch --save-dev

//Gruntfile to load plugin
grunt.loadNpmTasks('grunt-contrib-watch');
                    </code></pre>
                </section>
                <section>
                    <h2>Gruntfile Config for Watch</h2>
                    <pre><code data-trim contenteditable>// ...snip prior config...
watch: {
  main: {
    files: [ 'Gruntfile.js', 'js/reveal.js', 'css/reveal.css' ],
    tasks: 'default'
  },
  edits: {
    files: [ 'css/editable.css' ],
    options: {
      livereload: 35729,
    }
  }
},
                    </code></pre>
                </section>
                <section>
                    <h2>LiveReload</h2>

                    <p>Automatically reload styles/images in browser without hitting refresh</p>

                    <div id="editable_css">
                        #editable_css - edit my css below and watch me change
                    </div>

                    <pre><code id="edited_css" data-trim contenteditable>/* Edit the CSS here and click save to live reload */
#editable_css {
    color: white;
    border: solid 1px red;
}
                    </pre></code>
                    <button id="edit_changes" class="grunt_orange">Click me to update CSS with LiveReload</button>
                </section>
            </section>

            <section>
                <h2>Now, write your own</h2>

                <p>Theres a Yeoman generator to help you write your own Grunt plugins - https://github.com/yeoman/generator-gruntplugin</p>
            </section>


                <section>
                    <h2>Global State</h2>
                    <p>
                        Set <code>data-state="something"</code> on a slide and <code>"something"</code>
                        will be added as a class to the document element when the slide is open. This lets you
                        apply broader style changes, like switching the background.
                    </p>
                </section>

                <section data-state="customevent">
                    <h2>Custom Events</h2>
                    <p>
                        Additionally custom events can be triggered on a per slide basis by binding to the <code>data-state</code> name.
                    </p>
                    <pre><code data-trim contenteditable>
Reveal.addEventListener( 'customevent', function() {
    console.log( '"customevent" has fired' );
} );
                    </code></pre>
                </section>

                <section>
                    <section data-background="#007777">
                        <h2>Slide Backgrounds</h2>
                        <p>
                            Set <code>data-background="#007777"</code> on a slide to change the full page background to the given color. All CSS color formats are supported.
                        </p>
                        <a href="#" class="image navigate-down">
                            <img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
                        </a>
                    </section>
                    <section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png">
                        <h2>Image Backgrounds</h2>
                        <pre><code>&lt;section data-background="image.png"&gt;</code></pre>
                    </section>
                    <section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" data-background-repeat="repeat" data-background-size="100px">
                        <h2>Repeated Image Backgrounds</h2>
                        <pre><code style="word-wrap: break-word;">&lt;section data-background="image.png" data-background-repeat="repeat" data-background-size="100px"&gt;</code></pre>
                    </section>
                </section>

                <section data-transition="linear" data-background="#4d7e65" data-background-transition="slide">
                    <h2>Background Transitions</h2>
                    <p>
                        Pass reveal.js the <code>backgroundTransition: 'slide'</code> config argument to make backgrounds slide rather than fade.
                    </p>
                </section>

                <section data-transition="linear" data-background="#8c4738" data-background-transition="slide">
                    <h2>Background Transition Override</h2>
                    <p>
                        You can override background transitions per slide by using <code>data-background-transition="slide"</code>.
                    </p>
                </section>

                <section>
                    <h2>Clever Quotes</h2>
                    <p>
                        These guys come in two forms, inline: <q cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
                        &ldquo;The nice thing about standards is that there are so many to choose from&rdquo;</q> and block:
                    </p>
                    <blockquote cite="http://searchservervirtualization.techtarget.com/definition/Our-Favorite-Technology-Quotations">
                        &ldquo;For years there has been a theory that millions of monkeys typing at random on millions of typewriters would
                        reproduce the entire works of Shakespeare. The Internet has proven this theory to be untrue.&rdquo;
                    </blockquote>
                </section>

                <section>
                    <h2>Pretty Code</h2>
                    <pre><code data-trim contenteditable>
function linkify( selector ) {
  if( supports3DTransforms ) {

    var nodes = document.querySelectorAll( selector );

    for( var i = 0, len = nodes.length; i &lt; len; i++ ) {
      var node = nodes[i];

      if( !node.className ) {
        node.className += ' roll';
      }
    }
  }
}
                    </code></pre>
                    <p>Courtesy of <a href="http://softwaremaniacs.org/soft/highlight/en/description/">highlight.js</a>.</p>
                </section>

                <section>
                    <h2>Intergalactic Interconnections</h2>
                    <p>
                        You can link between slides internally,
                        <a href="#/2/3">like this</a>.
                    </p>
                </section>

                <section>
                    <section id="fragments">
                        <h2>Fragmented Views</h2>
                        <p>Hit the next arrow...</p>
                        <p class="fragment">... to step through ...</p>
                        <ol>
                            <li class="fragment"><code>any type</code></li>
                            <li class="fragment"><em>of view</em></li>
                            <li class="fragment"><strong>fragments</strong></li>
                        </ol>

                        <aside class="notes">
                            This slide has fragments which are also stepped through in the notes window.
                        </aside>
                    </section>
                    <section>
                        <h2>Fragment Styles</h2>
                        <p>There's a few styles of fragments, like:</p>
                        <p class="fragment grow">grow</p>
                        <p class="fragment shrink">shrink</p>
                        <p class="fragment roll-in">roll-in</p>
                        <p class="fragment fade-out">fade-out</p>
                        <p class="fragment highlight-red">highlight-red</p>
                        <p class="fragment highlight-green">highlight-green</p>
                        <p class="fragment highlight-blue">highlight-blue</p>
                        <p class="fragment current-visible">current-visible</p>
                        <p class="fragment highlight-current-blue">highlight-current-blue</p>
                    </section>
                </section>

                <section>
                    <h2>Spectacular image!</h2>
                    <a class="image" href="http://lab.hakim.se/meny/" target="_blank">
                        <img width="320" height="299" src="http://s3.amazonaws.com/hakim-static/portfolio/images/meny.png" alt="Meny">
                    </a>
                </section>

                <section>
                    <h2>Export to PDF</h2>
                    <p>Presentations can be <a href="https://github.com/hakimel/reveal.js#pdf-export">exported to PDF</a>, below is an example that's been uploaded to SlideShare.</p>
                    <iframe id="slideshare" src="http://www.slideshare.net/slideshow/embed_code/13872948" width="455" height="356" style="margin:0;overflow:hidden;border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen> </iframe>
                    <script>
                        document.getElementById('slideshare').attributeName = 'allowfullscreen';
                    </script>
                </section>

                <section>
                    <h2>Take a Moment</h2>
                    <p>
                        Press b or period on your keyboard to enter the 'paused' mode. This mode is helpful when you want to take distracting slides off the screen
                        during a presentation.
                    </p>
                </section>

                <section>
                    <h2>Stellar Links</h2>
                    <ul>
                        <li><a href="http://slid.es">Try the online editor</a></li>
                        <li><a href="https://github.com/hakimel/reveal.js">Source code on GitHub</a></li>
                        <li><a href="http://twitter.com/hakimel">Follow me on Twitter</a></li>
                    </ul>
                </section>

                <section>
                    <h1>THE END</h1>
                    <h3>BY Hakim El Hattab / hakim.se</h3>
                </section>

            </div>

        </div>

        <script src="lib/js/head.min.js"></script>
        <script src="js/reveal.min.js"></script>
        <script src="js/jquery.js"></script>

        <script>

            // Full list of configuration options available here:
            // https://github.com/hakimel/reveal.js#configuration
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
                transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

                // Parallax scrolling
                // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
                // parallaxBackgroundSize: '2100px 900px',

                // Optional libraries used to extend on reveal.js
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                    { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
                ]
            });

            // Reveal.addEventListener( 'slidechanged', function( event ) {
            //     $slide = $(event.currentSlide);
            //     if( $slide.data('chart-built') ){ return; }
            //     // if( $slide.data('chart-group') == 'bar' ){
            //     //   setTimeout(function(){
            //     //     Batches.initBarChartGroup( '#' + $slide.attr('id'), $slide.data('json') );
            //     //   },550);
            //     // }else if( $slide.data('chart-group') == 'scatter' ){
            //     //   setTimeout(function(){
            //     //     Batches.initScatterChartGroup( '#' + $slide.attr('id'), $slide.data('json') );
            //     //   },550);
            //     // }
            //     drawGraph();
            //     $slide.data('chart-built',true);
            //     // event.previousSlide, event.currentSlide, event.indexh, event.indexv
            // } );

        $(function(){
            $(document).on("click", "#edit_changes", function() {
                var edited_css = $("#edited_css").text();

                $.ajax({
                  type: "POST",
                  url: "/edit",
                  data: {css: edited_css},
                  success: function(){},
                  dataType: "json"
                })
            });
        })

        </script>

    </body>
</html>
